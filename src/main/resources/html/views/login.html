<form role="form" ng-submit="doAuth()">
    <legend>Iniciar sesión</legend>

    <div class="form-group">
      <label for="username">Usuario</label>
      <input type="text" class="form-control" ng-model="username" placeholder="Usuario" required="required">
    </div>

    <div class="form-group">
      <label for="password">Contraseña</label>
      <input type="password" class="form-control" ng-model="password" placeholder="Contraseña" required="required">
    </div>

    <div class="alert alert-success" ng-hide="isSending||isReady">
      <span class="pull-right">
        <i data-toggle="popover"
          id="pop-saltedPass" class="glyphicon glyphicon-question-sign"
          data-title="Contraseña segura"
          data-content="Su contraseña será mezclada con este texto aleatorio antes de ser enviada."
          data-container="body"
          data-placement="auto left"
          data-trigger="hover">
        </i>
        <span class="text-muted">&nbsp;|&nbsp;</span>
          <i ng-click="doRenew()"
            data-toggle="popover"
            id="pop-saltedPassRenew" class="glyphicon glyphicon-refresh"
            data-content="Usar otro texto aleatorio."
            data-container="body"
            data-placement="auto left"
            data-trigger="hover">
          </i>
        </span>
      <p>
        <strong>Token:</strong>&nbsp;<span ng-model="sToken">{{sToken}}</span>
      </p>
    </div>

    <div class="alert alert-info" ng-show="isSending">
      <p>Enviando...</p>
    </div>

    <div class="alert alert-success" ng-show="isReady">
      <p>Identificado correctamente.</p>
    </div>

    <div class="alert alert-error" ng-show="wasRejected">
      <p>Credenciales erróneas.</p>
    </div>

    <button type="submit" class="btn btn-primary" ng-disable="isWorking">Iniciar</button>
</form>
<script type="text/javascript">
  // XXX: Pasar a data-api
  $('#pop-saltedPass').popover();
  $('#pop-saltedPassRenew').popover();
</script>
